<!DOCTYPE html>
<html lang = "en">
  <head>
    <!-- Preload theme to avoid flash -->
    <script>
      (function () {
        try {
          const saved = localStorage.getItem("theme");
          const wantsDark = saved ? saved === "dark" : false;
          if (wantsDark) document.documentElement.classList.add("dark");
        } catch (e) {}
      })();
    </script>

    <meta name = "google-site-verification" content = "Zo07D_Vg7Fl4cpmcgrX5xXhbAhy6h5-trBuxoTFn4vw"/>
    <meta name = "google-site-verification" content = "0itnKEa8Mcj1kRhD6fduadRugP-xTDiEZcqD3TU6PNk"/>
    <meta charset = "UTF-8" />
    <meta name = "viewport" content = "width=device-width, initial-scale=1.0"/>
    <!-- meta descriptions -->
    <meta
      name = "description"
      content = "Pietro Rebecchi's Blog: an open diary of thoughts and reflections on whatever captures my curiosity, hoping to offer insights that might be attractive to you."
    />
    <!-- open graph -->
    <meta property = "og:title" content = "Pietro Rebecchi's Blog"/>
    <meta
      property = "og:description"
      content = "An open diary of thoughts and reflections on whatever captures my curiosity, hoping to offer insights that might be attractive to you."
    />
    <meta property = "og:url" content = "https://pietrorebecchi.vercel.app/"/>
    <meta property = "og:type" content = "website" />
    <title>Pietro Rebecchi's Home</title>

    <!-- Tailwind CSS -->
    <link href = "https://cdn.jsdelivr.net/npm/tailwindcss@2.2.17/dist/tailwind.min.css" rel = "stylesheet"/>

    <!-- Base font -->
    <style>
      body {
        font-family: "SF Mono", "Apple System UI Mono", Menlo, Monaco, Consolas, "Courier New", monospace;
      }
    </style>

    <!-- Waving hand -->
    <style>
      @keyframes wave {
        0%, 100% { transform: rotate(0deg); }
        15% { transform: rotate(14deg); }
        30% { transform: rotate(-8deg); }
        45% { transform: rotate(14deg); }
        60% { transform: rotate(-4deg); }
      }
      .wave {
        display: inline-block;
        transform-origin: 70% 70%;
        animation: wave 5s;
      }
    </style>

    <!-- Light/Dark theme overrides -->
    <style>
      /* Form controls follow theme */
      :root { color-scheme: light; }
      .dark { color-scheme: dark; }

      /* Tokens ‚Äî single blue accent; unified dark surface except post cards */
      :root {
        --bg: #ffffff; /* page bg (light) */
        --text: #000000; /* text (light) */
        --muted: #4b5563; /* secondary (light) */
        --card: #f3f4f6; /* panels (light) */
        --accent: #1e39d0; /* single blue accent (links) */
      }
      .dark {
        --bg: #0b1220; /* unified dark background */
        --text: #e6ecf7; /* soft near-white */
        --muted: #a0aec0; /* desaturated blue-gray */
        --card: #101a2b; /* ONLY posts cards use this */
        --accent: #1e39d0; /* same darker blue accent */
      }

      /* Smooth transitions */
      html,
      body,
      nav,
      footer,
      .bg-white,
      .bg-gray-100,
      .text-black,
      .text-gray-600,
      a {
        transition: background-color .25s ease, color .25s ease, border-color .25s ease, box-shadow .25s ease;
      }

      /* Base page colors */
      html,
      body { background-color: var(--bg); color: var(--text); }

      /* Generic surfaces unified in dark */
      .dark .bg-white { background-color: var(--bg) !important; }
      .dark .bg-gray-100 { background-color: var(--bg) !important; }

      /* Navbar & footer */
      nav, footer { background-color: var(--bg); color: var(--text); }
      .dark nav, .dark footer { background-color: var(--bg) !important; color: var(--text) !important; }

      /* >>> Nav divider line ("shade") so it reads as a block in dark too */
      nav { border-bottom: 1px solid rgba(0, 0, 0, .08); }
      .dark nav { border-bottom: 1px solid rgba(255, 255, 255, .08) !important; }

      /* Text colors */
      .dark .text-black { color: var(--text) !important; }
      .dark .text-gray-600 { color: var(--muted) !important; }

      /* Links (single blue everywhere) */
      a { color: var(--accent); }
      a:hover { opacity: .9; }
      .dark a { color: var(--accent) !important; }
      .dark a:hover { opacity: .9; }

      /* === Latest posts cards: the ONLY different surface === */
      .post-card { background-color: var(--card) !important; border-radius: .5rem; }
      .post-card:hover { transform: translateY(-1px); }
    </style>
  </head>

  <body>
    <!-- Navigation Menu -->
    <nav class = "navigation menu bg-white p-5 shadow" style = "background-color: white;">
      <div class = "container menu container mx-auto flex justify-end items-center">
        <a href = "index.html" class = "text-black hover:text-gray-500 px-3 transform transition duration-200 hover:scale-105">Home</a>
        <a href = "archive.html" class = "text-black hover:text-gray-500 px-3 transform transition duration-200 hover:scale-105">Archive</a>
        <a href = "CV.pdf" class = "text-black hover:text-gray-500 px-3 transform transition duration-200 hover:scale-105">CV</a>
        <!-- Theme toggle button -->
        <button
          id = "theme-toggle"
          class = "ml-3 rounded-full p-2 hover:scale-105 transform transition duration-200 focus:outline-none"
          aria-label = "Toggle dark mode"
          aria-pressed = "false"
          title = "Toggle dark mode"
        >
          üåô
        </button>
      </div>
    </nav>

    <div class = "container mx-auto px-12 py-8">
      <div class = "bg-white flex flex-col space-y-12 rounded-lg p-8 md:px-24 px-7">
        <!-- About Me -->
        <div class = "text-center mb-2">
          <h3 class = "text-3xl font-semibold mb-2">About Me</h3>
          <p class = "text-gray-600">
            Hi, I'm Pietro
            <span class = "wave text-3xl ml-1">üëãüèº</span>
            ‚Äî a Data Science student at
            <a
              href = "https://en.itu.dk/"
              class = "inline-block no-underline hover:underline"
              target = "_blank"
              rel = "noopener noreferrer"
              style = "color: var(--accent);"
            >IT University of Copenhagen</a>.
          </p>
          <p id = "blogpurpose" class = "text-gray-600">
            This blog is an open diary of thoughts and reflections on whatever captures my curiosity ‚Äî including, but not limited to,
            <span id = "topic"> data science </span>
            ‚Äî hoping to offer insights that might be attractive to someone.
          </p>
        </div>

        <hr class = "my-8" />

        <div>
          <h3 class = "text-2xl font-semibold mb-4 text-center">Latest Posts</h3>
          <div class = "grid grid-cols-1 md:grid-cols-3 gap-4">
            <!-- First Post -->
            <a href = "archive.html?post=posts/post1&source=index" class = "post-card block p-4">
              <span style = "color: var(--accent);" class = "text-md">Genesis: Why, What & How</span>
              <p class = "text-gray-600 text-sm">The genesis of this blog</p>
              <p class = "text-gray-600 text-sm">Date: 05/07/2025</p>
              <p class = "text-gray-600 text-sm">Blog</p>
            </a>
            <!-- Second Post -->
            <a href = "archive.html?post=posts/post2&source=index" class = "post-card block p-4">
              <span style = "color: var(--accent);" class = "text-md">Studying in Copenhagen</span>
              <p class = "text-gray-600 text-sm">My experience studying in Copenhagen</p>
              <p class = "text-gray-600 text-sm">Date: 08/07/2025</p>
              <p class = "text-gray-600 text-sm">Denmark</p>
            </a>
            <!-- Third Post -->
            <a href = "archive.html?post=posts/post3&source=index" class = "post-card block p-4">
              <span style = "color: var(--accent);" class = "text-md">Coming soon<span class = "animated-dots">...</span> </span>
              <p class = "text-gray-600 text-sm"> </p>
              <p class = "text-gray-600 text-sm"> </p>
              <p class = "text-gray-600 text-sm"> </p>
            </a>
          </div>
        </div>

        <hr class = "my-8" />

        <div id = "contact">
          <h3 class = "text-2xl font-semibold mb-2 text-center">Contact Me</h3>
          <p class = "text-gray-600 text-center">
            Email:
            <a class = "inline-block text-gray-600 hover:text-gray-500 transform transition duration-200 hover:scale-105" href = "mailto:pietrorebecchi003@gmail.com"
            >pietrorebecchi003@gmail.com</a>
          </p>
        </div>
      </div>
    </div>

    <footer class = "bg-white fixed bottom-0 left-0 w-full text-black text-sm text-center">
      &copy; 2025 Pietro Rebecchi
    </footer>

    <!-- Name cycling + dots animation -->
    <script>
      function wait(ms) { return new Promise((resolve) => setTimeout(resolve, ms)); }
      async function animateNameTransition(newName) {
        const nameSpan = document.getElementById("topic");
        while (nameSpan.textContent.length > 0) {
          nameSpan.textContent = nameSpan.textContent.slice(0, -1);
          await wait(100);
        }
        for (let i = 0; i < newName.length; i++) {
          nameSpan.textContent += newName[i];
          await wait(100);
        }
      }
      const names = ["data science", "world news", "life in Denmark"];
      let currentIndex = 0;
      async function cycleNames() {
        while (true) {
          let nextIndex = (currentIndex + 1) % names.length;
          await animateNameTransition(names[nextIndex]);
          currentIndex = nextIndex;
          await wait(2500);
        }
      }
      cycleNames();

      // Animate every <span class = "animated-dots">
      document.querySelectorAll(".animated-dots").forEach((el) => {
        let count = 0;
        setInterval(() => {
          count = (count + 1) % 4;
          el.textContent = ".".repeat(count);
        }, 500);
      });
    </script>

    <!-- Theme toggle logic -->
    <script>
      (function () {
        const STORAGE_KEY = "theme";
        const btn = document.getElementById("theme-toggle");

        function applyTheme(theme) {
          const root = document.documentElement;
          const dark = theme === "dark";
          root.classList.toggle("dark", dark);
          btn.setAttribute("aria-pressed", dark ? "true" : "false");
          btn.textContent = dark ? "‚òÄÔ∏è" : "üåô";
          btn.title = dark ? "Switch to light mode" : "Switch to dark mode";
          try {
            let meta = document.querySelector('meta[name="theme-color"]');
            if (!meta) {
              meta = document.createElement("meta");
              meta.setAttribute("name", "theme-color");
              document.head.appendChild(meta);
            }
            meta.setAttribute("content", dark ? "#0b1220" : "#ffffff");
          } catch (e) {}
        }

        (function init() {
          let theme = localStorage.getItem(STORAGE_KEY);
          if (!theme) {
            theme = "light";
          }
          applyTheme(theme);

          const mql = window.matchMedia && window.matchMedia("(prefers-color-scheme: dark)");
          if (mql && mql.addEventListener) {
            mql.addEventListener("change", (e) => {
              if (!localStorage.getItem(STORAGE_KEY)) {
                applyTheme("light"); // keep light as default unless dark is saved
              }
            });
          }
        })();

        btn.addEventListener("click", () => {
          const current = document.documentElement.classList.contains("dark") ? "dark" : "light";
          const next = current === "dark" ? "light" : "dark";
          localStorage.setItem(STORAGE_KEY, next);
          applyTheme(next);
        });
      })();
    </script>
  </body>
</html>